const
	fs = require('fs'),
	path = require('path');

function evalExports(jsFile, target) {
	let jsContent = eval(`(function () {
		const exported = {};
		${fs.readFileSync(path.resolve(jsFile)).toString().replace(/exports?\s+const\s+/gi, 'exported.').replace(/exports?\s+/, '')}
		return exported${typeof target === 'string' ? '[' + target + ']' : ''};
	})()`);
	return jsContent;
}

module.exports = evalExports;
